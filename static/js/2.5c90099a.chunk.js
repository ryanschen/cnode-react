(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{172:function(e,t,n){"use strict";var a={pureChart:function(e,t){if(e)return e.split(/[^a-zA-Z0-9\u4E00-\u9FFF]*/).join("").slice(0,t)},isWeChat:function(){return/micromessenger/i.test(navigator.userAgent)},isMobile:function(e){return/^1(3|4|5|6|7|8|9)[0-9]\d{8}$/.test(e)},isPhone:function(e){return/^(([0+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(e)},isOrgCode:function(e){return/^[a-zA-Z0-9]{8}-[a-zA-Z0-9]$/.test(e)||/^[a-zA-Z0-9]{9}$/.test(e)},isVin:function(e){return/^[0-9A-Z]{17}$/.test(e)},isEngineNo:function(e){return/^[0-9a-zA-Z]+$/i.test(e)},isIdNo:function(e){if("string"!==typeof e)return!1;var t,n=e.substr(6,4)+"/"+Number(e.substr(10,2))+"/"+Number(e.substr(12,2)),a=new Date(n),r=a.getFullYear()+"/"+Number(a.getMonth()+1)+"/"+Number(a.getDate()),s=(new Date).getTime(),i=a.getTime(),o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],c=0;if(!/^\d{17}(\d|x)$/i.test(e))return!1;if(void 0==={11:"\u5317\u4eac",12:"\u5929\u6d25",13:"\u6cb3\u5317",14:"\u5c71\u897f",15:"\u5185\u8499\u53e4",21:"\u8fbd\u5b81",22:"\u5409\u6797",23:"\u9ed1\u9f99\u6c5f",31:"\u4e0a\u6d77",32:"\u6c5f\u82cf",33:"\u6d59\u6c5f",34:"\u5b89\u5fbd",35:"\u798f\u5efa",36:"\u6c5f\u897f",37:"\u5c71\u4e1c",41:"\u6cb3\u5357",42:"\u6e56\u5317",43:"\u6e56\u5357",44:"\u5e7f\u4e1c",45:"\u5e7f\u897f",46:"\u6d77\u5357",50:"\u91cd\u5e86",51:"\u56db\u5ddd",52:"\u8d35\u5dde",53:"\u4e91\u5357",54:"\u897f\u85cf",61:"\u9655\u897f",62:"\u7518\u8083",63:"\u9752\u6d77",64:"\u5b81\u590f",65:"\u65b0\u7586",71:"\u53f0\u6e7e",81:"\u9999\u6e2f",82:"\u6fb3\u95e8",91:"\u56fd\u5916"}[e.substr(0,2)])return!1;if(i>=s||n!==r)return!1;for(t=0;t<17;t++)c+=e.substr(t,1)*o[t];return["1","0","X","9","8","7","6","5","4","3","2"][c%11]===e.substr(17,1)},isPassport:function(e){return/^[a-zA-Z0-9]{7,18}$/.test(e)},isBussinessLicense:function(e){return/^[A-Za-z0-9]{1,18}$/.test(e)},isTaxRegNumber:function(e){return/\d{15}/.test(e)},isCarLicense:function(e){return/(^[\u4E00-\u9FA5]{1}[A-Z0-9]{6,7}$)|(^[A-Z]{2}[A-Z0-9]{2}[A-Z0-9\u4E00-\u9FA5]{1}[A-Z0-9]{4}$)|(^[\u4E00-\u9FA5]{1}[A-Z0-9]{5}[\u6302\u5b66\u8b66\u519b\u6e2f\u6fb3]{1}$)|(^[A-Z]{2}[0-9]{5}$)|(^(08|38){1}[A-Z0-9]{4}[A-Z0-9\u6302\u5b66\u8b66\u519b\u6e2f\u6fb3]{1}$)/.test(e)},isEmail:function(e){return/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(e)},isBankCard:function(e){return/^\d{16}|\d{19}$/.test(e)},isMoney:function(e){return/^\d{0,8}(\.\d{0,2})?$/g.test(e)},isUserName:function(e){return/^[\u4E00-\u9FA5A-Za-z\\xb7\\u2022\(\)\\uff08\\uff09\:\\uff1a]+$/.test(e)},fullTwo:function(e){return e>9?e:"0"+e},ele:function(e,t){return t?document.querySelectorAll(e):document.querySelector(e)},objToArr:function(e,t,n){var a=[];for(var r in e)a.push({key:r,val:e[r]});return t&&a.unshift({key:"",val:n||"\u8bf7\u9009\u62e9"}),a},nullToEmpty:function(e){return JSON.parse(JSON.stringify(e).replace(/:null,/g,':"",'))},setDocTitle:function(e){if(document.title=e,a.isWeChat()){var t=document.createElement("iframe");t.src="/favicon.ico",t.style.visibility="hidden",t.style.width="1px",t.style.height="1px",t.onload=function(){setTimeout(function(){document.body.removeChild(t)},0)},document.body.appendChild(t)}},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return new Promise(function(a,r){var s="get"===n?{params:t}:t;window.axios[n](e,s).then(function(e){a&&e&&"undefined"!==typeof e.data&&a(e.data)},function(e){r&&r(e)})})},post:function(e,t){return a.get(e,t,"post")},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null},arrRemove:function(e,t){if(!Array.isArray(e))throw Error("arrRemove:params is not array!");for(var n=e.length,a=void 0,r=0;r<n;r++)a=e[r],isNaN(t)||(a=r),a===t&&e.splice(r,1);return e},formatDate:function(e,t){if(e){var n=e;n="string"===typeof e&&-1===e.indexOf("T")?new Date(e.replace(/-/g,"/")):new Date(e),/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var r in a)if(new RegExp("(".concat(r,")")).test(t)){var s=a[r]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?s:i(s))}return t}function i(e){return("00"+e).substr(e.length)}},setSessionStorage:function(e,t){return window.sessionStorage.setItem("".concat("MY_APP_").concat(e),JSON.stringify(t))},getSessionStorage:function(e){return JSON.parse(window.sessionStorage.getItem("".concat("MY_APP_").concat(e)))}};t.a=a},184:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);n(184),n(186);var a=n(192),r=n.n(a),s=n(177),i=n.n(s),o=(n(84),n(40)),c=n.n(o),u=n(178),l=n(19),d=n(20),p=n(22),m=n(21),f=n(23),g=n(1),h=n.n(g),y=n(11),v=n.n(y),b=n(215),w=n(172),E=n(179),A=n.n(E)()(),S=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"am-list-body my-body"},this.props.children)}}]),t}(g.Component),N=[{name:"\u5168\u90e8",type:""},{name:"\u7cbe\u534e",type:"good"},{name:"\u5206\u4eab",type:"share"},{name:"\u95ee\u7b54",type:"ask"},{name:"\u62db\u8058",type:"job"}],$=[],k=1,C=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).onEndReached=function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.isLoading||n.state.hasMore){e.next=2;break}return e.abrupt("return");case 2:return n.setState({isLoading:!0}),c.a.loading("\u52a0\u8f7d\u4e2d..",0),e.next=6,w.a.get("/topics",{tab:n.state.tab,page:k+1,limit:10}).catch(function(e){console.log(e)});case 6:a=e.sent,console.log("dataSource:",$),a.data&&($=$.concat(a.data),n.setState({dataSource:n.state.dataSource.cloneWithRows($),isLoading:!1}),k+=1);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.tabsClickHandle=function(){var e=Object(u.a)(i.a.mark(function e(t,a,r){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.activeClass!==a){e.next=2;break}return e.abrupt("return");case 2:return n.lv.scrollTo(0,0),n.setState({isLoading:!0}),c.a.loading("\u52a0\u8f7d\u4e2d..",0),e.next=7,w.a.get("/topics",Object.assign({},t.type?{tab:t.type,page:1,limit:10}:{page:1,limit:10})).catch(function(e){console.log(e)});case 7:s=e.sent,console.log(s),s.data&&($=s.data,n.setState({dataSource:n.state.dataSource.cloneWithRows($),isLoading:!1,activeClass:a,tab:t.type}),k=1);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}(),n.renderRow=function(e,t,n){var a=e;return h.a.createElement(b.a,{to:"/detail/".concat(a.id),key:n},h.a.createElement("div",{className:"item"},h.a.createElement("img",{src:a.author.avatar_url,alt:a.author.loginname,className:"author-img"}),h.a.createElement("span",{style:{display:a.top?"":"none"},className:"item-type"},"\u7f6e\u9876"),h.a.createElement("span",{style:{display:!a.top&&a.good?"":"none"},className:"item-type"},"\u7cbe\u534e"),h.a.createElement("span",{style:{display:a.top||a.good||"ask"!==a.tab?"none":""},className:"item-type ask"},"\u95ee\u7b54"),h.a.createElement("span",{style:{display:a.top||a.good||"share"!==a.tab?"none":""},className:"item-type share"},"\u5206\u4eab"),h.a.createElement("span",{style:{display:a.top||a.good||"job"!==a.tab?"none":""},className:"item-type share"},"\u62db\u8058"),h.a.createElement("div",{className:"item-title-wrap"},h.a.createElement("p",{className:"item-title"},a.title),h.a.createElement("p",{className:"item-count"},h.a.createElement("span",null,a.reply_count,"/",a.visit_count),h.a.createElement("span",null,A.format(a.last_reply_at,"zh_CN"))))))};var a=new r.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return n.state={dataSource:a,isLoading:!0,height:3*document.documentElement.clientHeight/4,activeClass:0,tab:""},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.documentElement.clientHeight-v.a.findDOMNode(this.lv).parentNode.offsetTop,c.a.loading("\u52a0\u8f7d\u4e2d..",0),1!==k&&(k=1),e.next=5,w.a.get("/topics",{tab:this.state.tab,page:k,limit:10}).catch(function(e){console.log(e)});case 5:(n=e.sent).data&&($=n.data,this.setState({dataSource:this.state.dataSource.cloneWithRows($),isLoading:!1,height:t}));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement("section",{className:"topics-tabs"},h.a.createElement("ul",null,N.map(function(t,n){return h.a.createElement("li",{key:n,onClick:function(){return e.tabsClickHandle(t,n)},className:n===e.state.activeClass?"active":""},t.name)}))),h.a.createElement(r.a,{ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderBodyComponent:function(){return h.a.createElement(S,null)},renderRow:this.renderRow,style:{height:this.state.height,overflow:"auto"},pageSize:4,scrollRenderAheadDistance:500,onEndReached:this.onEndReached,onEndReachedThreshold:10}))}}]),t}(g.Component);t.default=C}}]);
//# sourceMappingURL=2.5c90099a.chunk.js.map